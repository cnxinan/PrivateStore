#### 记一次内存泄漏

wwt代码发布一个ticket后发现服务器存在内存暴增，然后爆掉，发邮件爆出out of memory exception，调查代码后发现是某个未跟踪Entity A，在根对象做运算前挂在了跟Entity Root上，这次改动是对A的子对象层级多做了一层；临时修复办法就是先对根做运算，完成后再把A跟Root做绑定。

但是调查代码途中发现DbContext的内存管理不依赖于Scope的生命周期，要仔细看下Autofac和NopCommerce的管理。